<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>TEXT TO ISL</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel='stylesheet' type='text/css' media='screen' href="{{url_for('static',filename='./style.css')}}">

    <!-- <link rel="stylesheet" href="http://vhg.cmp.uea.ac.uk/tech/jas/vhg2021/cwa/cwasa.css" /> -->
    <!-- <script type="text/javascript" src="http://vhg.cmp.uea.ac.uk/tech/jas/vhg2021/cwa/allcsa.js"></script> -->

    <meta http-equiv="Access-Control-Allow-Methods" content="GET">
    <link rel="stylesheet"
    href="{{url_for('static',filename='css/cwasa.css')}}">
    <script type="text/javascript"
    src="{{url_for('static',filename='js/allcsa.js')}}"></script>
    <!-- player css and js files -->
    <!-- <link rel="stylesheet" href="css/cwasa.css" /> -->
    <!-- <script type="text/javascript" src="js/allcsa.js"></script> -->

    <script language="javascript">
        // Initial configuration
        var initCfg = {
            "avsbsl" : ["luna", "siggi", "anna", "marc", "francoise"],
            "avSettings" : { "avList": "avsbsl", "initAv": "marc" }
        };

        // global variable to store the sigmal list
        var sigmlList = null;

        // global variable to tell if avatar is ready or not
        var tuavatarLoaded = false;


        var playerAvailableToPlay = true;
    </script>
<!-- <script language="javascript" src="js/animationPlayer.js"></script> -->

</head>
<body onload="CWASA.init(initCfg);">
    <script language="javascript">

// console.log("hello");

function playText(stext) {
	CWASA.playSiGMLText(stext);
}

// sets url for sigml
function setSiGMLURL(sigmlURL) {
	console.log("hello");
	var loc = window.location.href;
    var locDir = loc.substring(0, loc.lastIndexOf('/'));
	// console.log("SiGML: "+sigmlURL);
	// console.log("Location Dir: "+locDir);
	sigmlURL = locDir + "/" + sigmlURL;
    // console.log("here");
	console.log("URL "+sigmlURL);
	document.getElementById("URLText").value = sigmlURL;
	return sigmlURL;
}
// starts the player animation
function startPlayer(sigmlURL) {
	sigmlURL = setSiGMLURL(sigmlURL);
	console.log("URL "+sigmlURL);
    // Equivalent to click on Sign button
    CWASA.getLogger("myLog","warn");
	CWASA.playSiGMLURL(sigmlURL);
    CWASA.getLogger("myLog","warn");
}
</script>
<div class="main">
    <div class="container">
        <!-- animation player frame -->
        <div class="player card" >
            <div class="anim"> 
                <div style="box-sizing: border-box; width: 100%; height: 100%; padding: 15px;" >
                    <table align="center" style="width:100%; height:100%;" >
                    <tr align="center">
                    
                    <!--================================================================-->
                    <!-- CWA signing avatar panel 0 -->
                    <!--================================================================-->
                    <!-- Replaced by an avatar panel -->
                    <!--================================================================-->
                    <td width="100%" >
                        <div class="CWASAAvatar av0" align="center" ></div>
                    </td>
                    <!--================================================================-->
                    
                    </tr><tr>
                    
                    <td align="center" style="display: none;">
                    
                    <span class="CWASAAvMenu av0" ></span>
                    <span class="CWASASpeed av0" ></span>
                    <br/>
                    
                    <span style="font-size: 90%;" style="display: none;">
                    Sign/Frame:
                    <input class="txtSF av0" value="0/0" type="text" hidden>
                    Gloss:
                    <input class="txtGloss av0" value="[none]" type="text" hidden>
                    </span>
                    <span class="spanInfo av0" style="display: none;">
                        Status:
                        <input type="text" class="statusExtra av0" hidden>
                        </span>
                    <!--  CachedSiGML URL  -->
                    <input type="text" id="URLText" class="txtSiGMLURL av0 undisplayed" value="" hidden />
                
                    </td>
                    </tr>
                    
                    </table>
                    
                    </div>
                    
            </div>
            
        </div>
        <!-- input for text -->
        <div class="panelText" style="width: 100%;display: flex; flex-direction: row; justify-content: space-between;">
            <div class="islOutput">
                ISL text: <span id ="isl_text"></span>
            </div>
            <div class="curr_playing">
                <span class="curr_word_playing"></span>
            </div>
            <div></div>
        </div>
        <div class="englishInput" style="width: 100%;display: flex; flex-direction: row; justify-content: space-between;">
            <div style="display: flex; flex-direction: row; justify-content: space-between;">
                <div class="test_word_list">
                    Available Words:- 
                    <select name="available_words" class="test_list"></select>
                </div>
                <input type="button" value="Sign" class="bttnPlaySiGMLURL av0" />
                <input type="button" value="Stop" class="bttnStop av0" />
            </div>

            <form method="POST" id= 'form' style="display: flex; flex-direction: row; justify-content: space-between;">
                <input id="text" type="text" name="text" autocomplete="off">
                <button id = "submit"  >Submit</button>
            </form>
            <!-- <button class="btn-primary bttnPlaySiGMLURL av0">Submit</button> -->
            <!-- <input type="button" value="Sign" class="bttnPlaySiGMLURL av0" /> -->
        </div>
    </div>
</div>
    <script type="text/javascript" src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/player.js') }}"></script> -->

</body>
</html>